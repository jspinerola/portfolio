---
import "@fontsource-variable/outfit";
import "../styles/global.css";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import ThemeScript from "../components/ThemeScript.astro";
interface Props {
  title: string;
  description: string | undefined;
}

const { title, description } = Astro.props as Props;
const isHome = Astro.url.pathname === "/";
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <link rel="icon" type="image/png" href="/favicon.png" />
    <meta name="description" content={description} />
    <title>{title}</title>
  </head>
  <ThemeScript />
  <body>
    <Header />
    <slot />
    {!isHome && <Footer />}
  </body>
  <script>
    import { gsap } from "gsap";
    import { SplitText } from "gsap/SplitText";

    gsap.registerPlugin(SplitText);

    document.fonts.ready.then(() => {
      console.log("Fonts loaded");
      const headings = document.querySelectorAll("h1.isAnimated");

      headings.forEach((heading) => {
        console.log("Animating heading:", heading);
        const split = new SplitText(heading, { type: "words" });
        gsap.set(heading, { autoAlpha: 1 });
        gsap.set(split.words, { opacity: 0, y: 25 });
        gsap.to(split.words, {
          duration: 0.5,
          opacity: 1,
          y: 0,
          stagger: { amount: 0.1, ease: "power2.out" }, // 'power2' usually needs .out or .in
        });
      });
    });
  </script>

</html>
